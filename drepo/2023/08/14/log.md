---
title: "進捗"
description:
date: 2023-08-14
draft: false
categories:
  - "drepo"
tags:
  - "shabedabe"
---

# shabedabe

shabedabe に redis をいれる。

redis にあわせて修正する。

redis をつかうのは Map、Array 系の変数になる。

また、room のコンテンツ自体もこちらにいれるかもしれない。

おわった部屋をファイル化して、稼働中の部屋を redis にいれるみたいなやつを考えてる。

## バグバグアンドバグ

うごかねえええええええ

部屋作成時は問題ないけど、参加に失敗してる。

## debug は足手纏いになるからおいてきた

全部コメントアウトした。いずれもどしたいね。

## redis 移行した

移行というより、ふつうつかうやろってとこ変数にしてたので来るべき対話というか対応というか。

まあ基本的に async/await いれてくだけだった。

hash でいれようとしたけど、なんかエラーこいてうごかなかったので、

仕方なく JSON 文字列に変換して文字列として配置することにした。

それくらいしかなかった。

## 退室が不親切すぎる

どうにかしたい。

今は退室は変数もとい Redis で管理している。

でもどうすればいいんだろう。
